plugin: amazon.aws.aws_ec2
region:
  - us-east-1
filters:
  tag:Name: nginx
  instance-state-name: running
hostnames:
  - private_ip_address # you can also specify a list in order of precedence for hostname variables
compose: # this sets the 'ansible_host' var to connect with the private ip address without changing the hostname
  ansible_host: private_ip_address